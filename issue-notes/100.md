# issue streaming demoのloopが実際にタイミングをモタらずに演奏できているか？をデバッグで見ようとしたがわかりづらい。モタり可視化の方法を検討する #100
[issues #100](https://github.com/cat2151/tonejs-json-sequencer/issues/100)

## 解決方法

streaming demoにタイミング可視化機能を追加しました。

### 実装内容

1. **イベントスケジューリングの可視化**
   - 各イベントのタイミング精度を表示：
     - ⚪ 正常 (±1ms以内)
     - 🔴 遅延
     - 🟢 早い
   - ルックアヘッド時間を視覚的に表示する進捗バー (█░)
   - タイミングドリフト（期待値との差）をミリ秒単位で表示

2. **ループタイミングの可視化**
   - ループ境界のタイミング精度を監視：
     - ✅ 正常 (±5ms以内)
     - ⚠️ 遅延
     - ⏩ 早い
   - 実際のタイミングずれをミリ秒単位で表示

3. **統計情報の表示**
   - リアルタイムで集計されるタイミング統計：
     - スケジュールされた総イベント数
     - 正常/遅延/早いイベントの件数と割合
     - ループ回数とタイミングステータス
     - 最後のループのずれ量

### 使用方法

1. streaming.htmlを開く
2. 「デバッグモード」チェックボックスをオン
3. 「タイミング可視化」セクションと「デバッグ出力」が表示される
4. 「再生」ボタンをクリック
5. タイミング情報がリアルタイムで更新される

### 確認できること

- イベントが正確にスケジュールされているか
- ループ再生時にタイミングがずれていないか（モタっていないか）
- どの程度のタイミング誤差があるか（ミリ秒単位）
- 全体的なタイミング精度の統計


